<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Survey Questions</title>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" type="text/css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-12">
				<h2>Survey Questions</h2>
				<hr>
			</div>
		</div>
		<div class="row">
			<div class="col-md-12">
				<form>
					<h2>About You</h2>
					<h3>Name (Required)</h3>
	    			<input type="text" id="name" class="form-control form-group" required>
	    			<h3>Link to Photo Image (Required)</h3>
	    			<input type="text" id="photo" class="form-control form-group" required>
	    			<hr>
	    			<h3>Question 1</h3>
	    			<h4>You enjoy spending time outdoors.</h4>
					<div class="input-group">
						<select class="chosen-select form-control" id="q1" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 2</h3>
	    				<h4>You prefer to hang out in a big group of people.</h4>
	   					<select class="chosen-select form-control" id="q2" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 3</h3>
	    				<h4>You enjoy daydreaming about your future goals.</h4>
	   					<select class="chosen-select form-control" id="q3" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 4</h3>
	    				<h4>You are very organized.</h4>
	   					<select class="chosen-select form-control" id="q4" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 5</h3>
	    				<h4>You would rather spend time watching TV alone than going out to a club.</h4>
	   					<select class="chosen-select form-control" id="q5" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 6</h3>
	    				<h4>You have a strong appreciation for the arts.</h4>
	   					<select class="chosen-select form-control" id="q6" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 7</h3>
	    				<h4>You love sports.</h4>
	   					<select class="chosen-select form-control" id="q7" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 8</h3>
	    				<h4>You enjoy long, intellectual conversations.</h4>
	   					<select class="chosen-select form-control" id="q8" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 9</h3>
	    				<h4>You have an active lifestyle.</h4>
	   					<select class="chosen-select form-control" id="q9" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	   					<br>
	   					<h3>Question 10</h3>
	    				<h4>You enjoy debating issues in society with others.</h4>
	   					<select class="chosen-select form-control" id="q10" required>
							<option value="">Select an answer</option>
							<option value="1">1 Strongly Disagree</option>
		  					<option value="2">2</option>
		  					<option value="3">3</option>
		  					<option value="4">4</option>
		  					<option value="5">5 Strongly Agree</option>
	   					</select>
	          		</div>
	          	<br><br>
	          	<button type="submit" class="btn btn-primary btn-lg" id="submit" value="submit"><span class="glyphicon glyphicon-ok"></span> Submit</button>
	          	</form>
			</div>
		</div>
		<br><br>
	    <div class="row">
	  	  <div class="col-md-12">
	  	  	<a href="/api/friends">API Friends List </a><span>|</span>
	  	  	<a href="https://github.com/ADFrys/FriendFinder" target="_blank">GitHub Repo</a>
	  	  </div>
	  	</div>
	</div>

  <div id="results-modal" class="modal fade" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <span class="close" data-dismiss="modal">&times;</span>
          <h2>Best Cartoon Character Friend Match</h2>
        </div>
        <div class="modal-body">
        	<h2 id="best-match-name"></h2>
        	<img id="best-match-image">
        </div>
      </div>
    </div>
</div>
</body>
</html>



<script type="text/javascript">

  $("#submit").on("click", function(event) {
    event.preventDefault();

   // $(".form-control").each(function() {
   //    switch($(".form-control").val()) {
   //    	case "":
   //    	alert("You missed one")
   //    	break;
   //    }
   //   });

     if ($(".form-control").val() === "") {
    return alert("You missed one or more questions. Please finish the survey.");
      }
    });

    var newFriendData = {
      name: $("#name").val().trim(),
      photo: $("#photo").val().trim(),
      scores: [
      $("#q1").val(),
      $("#q2").val(),
      $("#q3").val(),
      $("#q4").val(),
      $("#q5").val(),
      $("#q6").val(),
      $("#q7").val(),
      $("#q8").val(),
      $("#q9").val(),
      $("#q10").val()
      ]
    };

    console.log(newFriendData);

    $.post("/api/friends", newFriendData,
      function(data) {
      	$("#best-match-name").text(newFriendData.name);
      	$("#best-match-image").attr("src", newFriendData.photo);
      	$("#results-modal").modal("toggle");
      	console.log(data);
      })
       });
 
</script>